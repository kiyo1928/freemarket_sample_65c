%main.single-main
  .l-single-container
    %h2.l-chapter-head 発送元・お届け先住所入力
    .l-single-inner.registration-form
      = form_for(@user, url: complete_path, method: :post) do |f|
        = render "devise/shared/error_messages", resource: @address
        %input{name: "__csrf_value", type: "hidden", value: ""}
        .l-single-content
          .form-group
            %label{for: "name"} お名前
            %span.form-require 必須
            .dateOfbirth
            = f.text_field :last_name, placeholder: "例) 山田", value: session["devise.regist_data"]["user"]["last_name"]
            = f.text_field :first_name, placeholder: "例) 彩", value: session["devise.regist_data"]["user"]["first_name"]
          .form-group
            %label{for: "name"} お名前カナ
            %span.form-require 必須
            .dateOfbirth
            = f.text_field :last_name_kana, placeholder: "例) ヤマダ", value: session["devise.regist_data"]["user"]["last_name_kana"]
            = f.text_field :first_name_kana, placeholder: "例) アヤ", value: session["devise.regist_data"]["user"]["first_name_kana"]
          = f.fields_for :address do |g|
            .form-group
              %label{for: "zipcode"} 郵便番号
              %span.form-require 必須
              .dateOfbirth
              = g.text_field :zipcode, maxlength: "8", placeholder: "例) 123-4567"
            .form-group
              %label{for: "prefecture"} 都道府県
              %span.form-require 必須
              .select-wrap
                %i.icon-arrow-bottom
                = g.collection_select(:prefecture_id, Prefecture.all, :id, :name, {prompt:"--"},{class:"select-default"})
            .form-group
              %label{for: "city"} 市区町村
              %span.form-require 必須
              .dateOfbirth
              = g.text_field :city, placeholder: "例) 横浜市緑区"
            .form-group
              %label{for: "address1_label"} 番地
              %span.form-require 必須
              .dateOfbirth
              = g.text_field :block, placeholder: "例) 青山1−1−1"
            .form-group
              %label{for: "address2_label"} 建物名
              %span.form-arbitrary 任意
              .dateOfbirth
              = g.text_field :building, placeholder: "例) 柳ビル103"
            .form-group
              %label{for: "address2_label"} 電話
              %span.form-arbitrary 任意
              .dateOfbirth
              = g.text_field :phone, placeholder: "例) 09012345678", value: session["devise.regist_data"]["user"]["phone_authy"]
            %input{name: "after_save_callback", type:"hidden", :value => "https://www.mercari.com/jp/mypage/deliver_address/"}
            = g.submit "次へ進む", class:"btn-default btn-red"
